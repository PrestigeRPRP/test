<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Our Gallery</title>

  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>

</head>
  <script>
alert ('Use WASD to move and Drag mouse for direction')

AFRAME.registerComponent('music-1-handler', {
  init: function () {
    let audio = document.querySelector("#music1");
    audio.volume = 0.05; // Set the volume to 0.05
    let isPlaying = false; // Flag to track playback state

    this.el.addEventListener('click', () => {
      if (isPlaying) {
        audio.pause(); // Pause the audio
        isPlaying = false;
      } else {
        audio.play(); // Play the audio
        isPlaying = true;
      }
    });
  }
})


AFRAME.registerComponent('play-on-near', {
  init: function () {
    this.el.addEventListener('mouseenter', function () {
      this.playVideo();
    }.bind(this));
    this.el.addEventListener('click', function () {
      this.playVideo();
    }.bind(this));
  },
  playVideo: function () {
    var video = document.getElementById('video1');
    video.play();
    video.volume = 0.1; // Add this line to set the volume
    video.addEventListener('ended', function () {
      video.pause();
    });
  }
});


  </script>
<body>

<a-scene renderer="antialias: true; colorManagement: true; sortObjects: true; physicallyCorrectLights: true;">

  <a-assets>
    <img id="wall" src="images/concrete-wall.jpg"></img>
    <img id="floor" src="images/Floor.jpg"></img>
    <img id="ceiling" src="images/ceiling copy.jpg"></img>

    <audio id="music1" src="/pasilyo2.mp3" preload="auto"></audio>

    <video id="video1" src="Summer.mp4" preload="auto" controls></video>

  </a-assets>
  
  
  <a-entity light="type:directional; castShadow:true; intensity:2;" position="1 1 1"></a-entity>
  <a-entity light="type:directional; castShadow:true; intensity:2;" position="-1 -1 -1"></a-entity>
  <a-entity light="type:directional; castShadow:true; intensity:2;" position="4 0 0"></a-entity>
    
     
    <a-entity camera look-controls wasd-controls position="0 1.6 0">
      <a-entity cursor="fuse: true; fuseTimeout: 500" position="0 0 -1"
        geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.01" material="color: white; shader: flat"
        cursor-listener>
      </a-entity>
    </a-entity>
  

    <!-- right wall-->
    <a-plane src="#wall" position="15 2.5 0" rotation="0 -90 0" width="10" height="5"></a-plane>
    <!-- left wall-->
    <a-plane src="#wall" position="-5 2.5 0" rotation="0 90 0" width="10" height="5"></a-plane>
    <!-- front wall-->
    <a-plane src="#wall" position="0 2.5 -5" rotation="0 0 0" width="30" height="5"></a-plane>
    <!-- back wall-->
    <a-plane src="#wall" position="0 2.5 5" rotation="0 180 0" width="30" height="5"></a-plane>
    <!-- ceiling-->
    <a-plane position="0 4 0" rotation="90 0 0" width="30" height="10"></a-plane>

    <!-- floor-->
    <a-plane src="#floor" repeat="4 4" position="0 0 0" rotation="-90 0 0" width="30" height="10"></a-plane>

    <!-- ceiling -->
    <a-plane src="#ceiling" repeat="30 15" position="0 3.9 0" width="30" height="10" rotation="90 0 0"></a-plane>

    <!-- front wall images -->
  

    <a-entity
      geometry="primitive: box; width: 3; height: 3; depth: 0.1;"
      music-1-handler
      position="-2 2 -4.9"
      material="src: url(brie6.png)"
     >
    </a-entity>


    <a-entity geometry="primitive: box; width: 6; height: 3.2; depth: 0.1;"
      material="src: url(brie12.png)"
      music-1-handler
      position="4 2 -5">
    </a-entity>

    <a-entity geometry="primitive: box; width: 5.69; height: 3.2; depth: 0.1;"
      material="src: url(brie2.png)"
      position="11 2 -4.9">
    </a-entity>

    <!-- left wall images -->
    <a-entity geometry="primitive: box; width: 4; height: 3; depth: 0.1;"
      material="src: url(1211.png)"
      rotation="0 90 0"
      position="-4.9 2 2"></a-entity>

      <a-entity geometry="primitive: box; width: 3.5; height: 3; depth: 0.1;"
      rotation="0 90 0"
      position="-4.9 2 -2.5"
      material="src: url(1st.png)"
      >
      </a-entity>

    
     <!-- Hidden wall images -->

  <a-entity
  geometry="primitive: box;
           width: 7;
           height: 3;
           depth: 0.1;"
  material="src: #video1"
  rotation="0 -90 0"
  position="-14.9 2 0"
  play-on-near>
</a-entity>

<a-entity
geometry="primitive: box;
         width: 4;
         height: 3;
         depth: 0.1;"
material="src: url(Sun1.jpg)"
position="-12 2 4.9"
play-on-near>
</a-entity>
    
<a-entity geometry="primitive: box; width: 4; height: 3; depth: 0.1;"
      material="src: url(1211.png)"
      position="-12 2 -4.9"></a-entity>
     


    <!-- right wall images -->
    <a-entity geometry="primitive: box; width: 3; height: 2.8; depth: 0.1;"
      material="src: url(Sun1.jpg)"

      rotation="0 -90 0"
      position="14.9 2 -2.1"></a-entity>
    

    <a-entity geometry="primitive: box; width: 3; height: 2.8; depth: 0.1;"
    material="src: url(Sunf.jpg)"
    rotation="0 -90 0"
    position="14.9 2 2.5"></a-entity>

  

    <!-- back wall images -->
    <a-entity geometry="primitive: box; width: 3.5; height: 3; depth: 0.1;"
      material="src: url(brie3d2.png)"
      position="-2 2 4.9"></a-entity>
      
      <a-entity geometry="primitive: box; width: 8.17; height: 3; depth: 0.1;" position="5 2 4.9"
        material="src: url(img12.png)">
      </a-entity>
     

      <a-entity
      geometry="primitive: box; width: 3.5; height: 3; depth: 0.1;"
      material="src: url(image.png)"
      position="12 2 4.9">
    </a-entity>

  </a-scene>
  

</body>

</html>
